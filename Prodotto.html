<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dettaglio Prodotto - Cuor Snack</title>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
  --primary: #ff4d6d;
  --secondary: #ffb347;
  --accent: #6bcf8e;
}

body{
  font-family:'Poppins',sans-serif;
  margin:0;
  background: linear-gradient(-45deg,#ff4d6d,#ffb347,#6bcf8e,#4facfe);
  background-size:400% 400%;
  animation: gradientBG 12s ease infinite;
  color:white;
}

@keyframes gradientBG {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}

/* ===== CONTAINER GRANDE DESKTOP ===== */
.container{
  width: 90%;
  max-width: 1600px; /* molto piÃ¹ largo */
  margin: 80px auto;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(30px);
  border-radius:40px;
  padding:80px;
  display:flex;
  gap:100px;
  align-items:center;
  justify-content:center;
  box-shadow:0 40px 100px rgba(0,0,0,0.5);
  animation:fadeUp 0.8s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(40px);}
  to{opacity:1;transform:translateY(0);}
}

/* IMMAGINE MOLTO PIÃ™ GRANDE */
.container img{
  width:600px;   /* ðŸ‘ˆ molto piÃ¹ grande */
  max-width: 45vw;
  border-radius:40px;
  transition:0.4s;
  box-shadow:0 30px 80px rgba(0,0,0,0.6);
}

.container img:hover{
  transform:scale(1.08);
}

/* DETTAGLI */
.details{
  max-width:600px;
}

.details h1{
  font-size:60px;   /* ðŸ‘ˆ titolo gigante */
  margin-bottom:30px;
  font-weight:800;
}

.details p{
  font-size:20px;
  opacity:0.9;
  margin-bottom:30px;
  line-height:1.6;
}

.price{
  font-size:36px;   /* ðŸ‘ˆ prezzo grande */
  font-weight:800;
  margin-bottom:40px;
}

.buy-btn{
  padding:22px 60px;
  border:none;
  border-radius:60px;
  background: linear-gradient(45deg,var(--primary),var(--secondary));
  color:white;
  font-weight:700;
  font-size:18px;
  cursor:pointer;
  transition:0.3s;
  box-shadow:0 20px 50px rgba(0,0,0,0.5);
}

.buy-btn:hover{
  transform:scale(1.1);
}

/* ===== MODAL ===== */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  justify-content:center;
  align-items:center;
}

.modal-content{
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(30px);
  padding:50px;
  border-radius:40px;
  width:500px;
  display:flex;
  flex-direction:column;
}

.modal-content h2{
  margin-bottom:25px;
  text-align:center;
}

.modal-content input{
  margin-bottom:18px;
  padding:16px;
  border:none;
  border-radius:18px;
  outline:none;
  font-size:15px;
}

.modal-content button{
  margin-top:12px;
  padding:16px;
  border:none;
  border-radius:40px;
  font-weight:600;
  cursor:pointer;
}

/* ===== RESPONSIVE MOBILE ===== */
@media(max-width: 1024px){
  .container{
    flex-direction:column;
    padding:40px;
    gap:40px;
  }

  .container img{
    width:100%;
    max-width:500px;
  }

  .details h1{
    font-size:36px;
    text-align:center;
  }

  .details p,
  .price{
    text-align:center;
  }

  .buy-btn{
    width:100%;
  }
}
</style>
</head>

<body>

<div class="container">
  <img id="productImg">
  <div class="details">
    <h1 id="productName"></h1>
    <p>Snack croccante, premium e irresistibile. Perfetto per ogni momento della giornata.</p>
    <div class="price">Prezzo: â‚¬4.99</div>
    <button class="buy-btn" onclick="openModal()">Compra Ora</button>
  </div>
</div>

<div class="modal" id="buyModal">
  <div class="modal-content">
    <h2>Completa Ordine</h2>

    <input type="text" id="name" placeholder="Nome">
    <input type="text" id="surname" placeholder="Cognome">
    <input type="email" id="email" placeholder="Email">
    <input type="text" id="address" placeholder="Indirizzo">
    <input type="text" id="quantitÃ " placeholder="QuantitÃ ">
    <input type="text" id="card" placeholder="Carta di credito (finta)">

    <button onclick="sendOrder()">Conferma</button>
    <button onclick="closeModal()">Annulla</button>
  </div>
</div>

<script>
emailjs.init("9N7pc0zPownCBnmbg");

const params = new URLSearchParams(window.location.search);
const name = params.get("name");
const img = params.get("img");

document.getElementById("productName").innerText = name;
document.getElementById("productImg").src = img;

function openModal(){ 
  document.getElementById("buyModal").style.display="flex"; 
}
function closeModal(){ 
  document.getElementById("buyModal").style.display="none"; 
}

function sendOrder(){
  const customerName = document.getElementById("name").value;
  const surname = document.getElementById("surname").value;
  const email = document.getElementById("email").value;
  const address = document.getElementById("address").value;
  const quantity = document.getElementById("quantitÃ ").value;
  const card = document.getElementById("card").value;

  const templateParams = {
    customer_name: customerName,
    customer_email: email,
    order_details: `
Prodotto: ${name}
Cliente: ${customerName} ${surname}
Indirizzo: ${address}
QuantitÃ : ${quantity}
Carta: ${card}
`
  };

  emailjs.send("service_gl2tleh","template_212jv8k",templateParams)
  .then(()=>{
    alert("Ordine inviato con successo!");
    closeModal();
  })
  .catch(()=>{
    alert("Errore invio email");
  });
}
</script>

</body>
</html>